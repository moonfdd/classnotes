方法句柄文档：https://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandles.html



https://www.oracle.com/technetwork/java/jvmls2013kuksen-2014088.pdf 

http://nerds-central.blogspot.tw/2013/03/java-8-lambdas-they-are-fast-very-fast.html

## 方法调用的字节码指令有哪些？

invokestatic 用来调用静态方法； 

invokespecial 用于调用私有实例方法、构造器及 super 关键字等； 

invokevirtual 用于调用非私有实例方法，比如 public 和 protected，大多数方法调用属于这一种； 

invokeinterface 和上面这条指令类似，不过作用于接口类； 

invokedynamic 用于调用动态方法

## 分派有哪些？

静态分派 ：重载

动态分派

## 如何解决动态分派效率低的问题？

方法表，提高检索效率



动态分派会执行非常频繁的动作，JVM 运行时会频繁的、反复的去搜索元数据，所以 JVM 使用了一种优化手段，这个就是在方法区中建立一个虚方法表。 使用虚方法表索引来替代元数据查找以提高性能。 

在实现上，最常用的手段就是为类在方法区中建立一个虚方法表。虚方法表中存放着各个方法的实际入口地址。如果某个方法在子类中没有被重写，那 子类的虚方法表里面的地址入口和父类相同方法的地址入口是一致的，都指向父类的实现入口。如果子类中重写了这个方法，子类方法表中的地址将会 替换为指向子类实现版本的入口地址。 PPT 图中， Son 重写了来自 Father 的全部方法，因此 Son 的方法表没有指向 Father 类型数据的箭头。但是 Son 和 Father 都没有重写来自 Object 的方法，所以它们的方法表中所有从 Object 继承来的方法都指向了 Object 的数据类型。

##  lambda字节码分析？

invokedynamic

方法句柄（MethodHandle）

捕获【看起来是闭包】与非捕获



