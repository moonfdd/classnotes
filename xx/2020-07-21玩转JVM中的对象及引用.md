https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html

## JVM 中对象的创建过程是什么？

检分零头初

## 划分内存的两种方式是什么？

指针碰撞

空闲列表

## TLAB是什么？

另一种是把内存分配的动作按照线程划分在不同的空间之中进行，即每个线程在 Java 堆中预先分配一小块私有内存，也就是本地线程分配缓冲（Thread LocalAllocationBuffer,TLAB），JVM 在线程初始化时，同时也会申请一块指定大小的内存，只给当前线程使用，这样每个线程都单独拥有一个 Buffer，如果 需要分配内存，就在自己的 Buffer 上分配，这样就不存在竞争的情况，可以大大提升分配效率，当 Buffer 容量不够的时候，再重新从 Eden 区域申请一块 继续使用。 

TLAB 的目的是在为新对象分配内存空间时，让每个 Java 应用线程能在使用自己专属的分配指针来分配空间，减少同步开销。 

TLAB 只是让每个线程有私有的分配指针，但底下存对象的内存空间还是给所有线程访问的，只是其它线程无法在这个区域分配而已。当一个 TLAB 用满（分 配指针 top 撞上分配极限 end 了），就新申请一个 TLAB。

## 对象的内存布局是什么？

头实填，标类长

## 对象的访问定位有哪些？

句柄、直接指针。

## 如何判断对象的存活？

引用计数

可达性分析

## GC Roots对象有哪些？



虚拟机栈（栈帧中的本地变量表）中引用的对象；各个线程调用方法堆栈中使用到的参数、局部变量、临时变量等。 

方法区中类静态属性引用的对象；java 类的引用类型静态变量。 

方法区中常量引用的对象；比如：字符串常量池里的引用。 

本地方法栈中 JNI（即一般说的 Native 方法）引用的对象。 



JVM 的内部引用（class 对象、异常对象 NullPointException、OutofMemoryError，系统类加载器）。（非重点）  

所有被同步锁(synchronized 关键)持有的对象。（非重点） 

JVM 内部的 JMXBean、JVMTI 中注册的回调、本地代码缓存等（非重点） 

JVM 实现中的“临时性”对象，跨代引用的对象（在使用分代模型回收只回收部分代的对象，这个后续会细讲，先大致了解概念）（非重点）

## 四大引用有哪些？

强

软：有用但不是必需。图片。

弱：WeakHashMap、ThreadLocal。

虚：监控垃圾回收器是否正常工作。

## 对象的分配策略？

对大长动空

动：为了能更好地适应不同程序的内存状况，虚拟机并不是永远地要求对象的年龄必须达到了 MaxTenuringThreshold 才能晋升老年代，如果在 Survivor 空间中 相同年龄所有对象大小的总和大于 Survivor 空间的一半，年龄大于或等于该年龄的对象就可以直接进入老年代，无须等到 MaxTenuringThreshold 中要求的 年龄

是否栈上分配？

是否本地线程分配缓冲？

是否大对象？

## 虚拟机的优化技术有哪些？

逃逸分析

本地线程分配缓冲